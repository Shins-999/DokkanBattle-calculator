<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>実数値計算</title>
    <link rel="icon" href="img/Icon_Calculate_orenge.svg">
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="body">
    <header class="header">
        <h1 class="header-top">ドッカンバトル 実数値計算機</h1>
        <button id="helpButton" class="help-btn" title="help">
            <img src="img/helpIcon.svg" alt="Help Icon" class="help-icon">
        </button>
    </header>

    <main class="main">
        <button id="openSaveModal">セーブ/ロード</button>

        <!-- セーブ・ロードモーダル -->
        <div id="saveModal" class="modal hidden">
            <div class="modal-content">
                <h2>セーブスロット</h2>
                <div class="slots">
                    <div class="slot" data-slot-index="0">
                        <input type="text" class="slot-name" value="Slot 1">
                        <div class="slot-buttons">
                            <button class="save-btn">セーブ</button>
                            <button class="load-btn">ロード</button>
                        </div>
                    </div>
                    <div class="slot" data-slot-index="1">
                        <input type="text" class="slot-name" value="Slot 2">
                        <div class="slot-buttons">
                            <button class="save-btn">セーブ</button>
                            <button class="load-btn">ロード</button>
                        </div>
                    </div>
                    <div class="slot" data-slot-index="2">
                        <input type="text" class="slot-name" value="Slot 3">
                        <div class="slot-buttons">
                            <button class="save-btn">セーブ</button>
                            <button class="load-btn">ロード</button>
                        </div>
                    </div>
                    <div class="slot" data-slot-index="3">
                        <input type="text" class="slot-name" value="Slot 4">
                        <div class="slot-buttons">
                            <button class="save-btn">セーブ</button>
                            <button class="load-btn">ロード</button>
                        </div>
                    </div>
                    <div class="slot" data-slot-index="4">
                        <input type="text" class="slot-name" value="Slot 5">
                        <div class="slot-buttons">
                            <button class="save-btn">セーブ</button>
                            <button class="load-btn">ロード</button>
                        </div>
                    </div>
                </div>
                <button id="closeSaveModal" class="close-btn">閉じる</button>
            </div>
        </div>

        <!-- ATK/DEF切り替え -->
        <div class="main-fast">
            <select id="statusSelector">
                <option>ATK</option>
                <option>DEF</option>
            </select>
        </div>

        <div class="OnActiveSkill" data-hide="DEF">
            <label class="checkbox">
                <input type="checkbox" id="OnActiveSkillCheckbox" onwheel="this.blur()">
            </label>
            <p class="settingFont">アクティブ・スタンバイスキル威力</p>
        </div>

        <!-- テンプレート選択 -->
        <div>
            <select id="raritySelect" data-hide="DEF Active">
                <option value="LR">LR</option>
                <option value="フェスUR">フェスUR</option>
                <option value="通常UR">通常UR</option>
                <option value="イベントUR">イベントUR</option>
                <option value="LR極限">LR極限</option>
                <option value="フェスUR極限">フェスUR極限</option>
                <option value="通常UR極限">通常UR極限</option>
                <option value="イベントUR極限">イベントUR極限</option>
            </select>
        </div>

        <!-- 基礎ステータス -->
        <template id="baseStat-input-template">
            <div class="input-box">
                <input type="number" class="baseStat-input NumericalValue" data-key="baseStat" value="0" min="1"
                    onwheel="this.blur()">
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="baseStat">
            <p class="Sentence">ステータス</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input NumericalValue" data-key="baseStat" value="0" min="1"
                        onwheel="this.blur()">
                </div>
            </form>
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- リーダースキル -->
        <template id="leaderSkillMul-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="leaderSkillMul" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="leaderSkillMul">
            <p class="Sentence">リーダースキル</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="leaderSkillMul" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form>
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 足し算パッシブ -->
        <template id="addPassiveMul-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="addPassiveMul" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="addPassiveMul">
            <p class="Sentence">足し算パッシブ</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="addPassiveMul" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form>
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 掛け算パッシブ -->
        <template id="mulPassiveMul-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="mulPassiveMul" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="mulPassiveMul">
            <p class="Sentence">掛け算パッシブ</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="mulPassiveMul" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- リンクスキル -->
        <template id="linkSkillMul-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="linkSkillMul" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="linkSkillMul">
            <p class="Sentence">リンクスキル</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="linkSkillMul" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form>
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 気力ボーナス -->
        <div class="status" data-hide="DEF">
            <p class="Sentence">気力ボーナス</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Magnification" data-key="mainKiBonus"
                        data-rarity-key="mainKiBonus" value="1" min="1" step="0.01" onwheel="this.blur()">
                    <p class="unit">倍</p>
                </div>
            </form>

        </div>

        <!-- 追撃必殺気力ボーナス -->
        <div class="status" data-hide="DEF Active" data-visible-for="LR">
            <p class="Sentence">追撃必殺気力ボーナス</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Magnification" data-key="followUpKiBonus"
                        data-rarity-key="followUpKiBonus" value="1" min="1" step="0.01" onwheel="this.blur()">
                    <p class="unit">倍</p>
                </div>
            </form>

        </div>

        <!-- 必殺技威力 -->
        <template id="mainSuperPower-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="mainSuperPower" value="100" min="100"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="mainSuperPower" data-hide="DEF Active">
            <p class="Sentence">必殺技威力</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="mainSuperPower"
                        data-rarity-key="mainSuperPower" value="100" min="100" onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form>
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 追撃必殺技威力 -->
        <template id="followUpSuperPower-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="followUpSuperPower" value="100" min="100"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="followUpSuperPower" data-hide="DEF Active">
            <p class="Sentence">追撃必殺技威力</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="followUpSuperPower"
                        data-rarity-key="followUpSuperPower" value="100" min="100" onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 必殺技追加効果（累積） -->
        <template id="superAdjustTotal-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="superAdjustTotal" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="superAdjustTotal">
            <p class="Sentence">必殺技追加効果(累積)</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="superAdjustTotal" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 必殺技ATK追加効果 -->
        <template id="mainSuperAddEffect-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="mainSuperAddEffect" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="mainSuperAddEffect" data-hide="DEF Active">
            <p class="Sentence">必殺技ATK追加効果</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="mainSuperAddEffect" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 追撃必殺技ATK追加効果 -->
        <template id="followUpSuperAddEffect-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="followUpSuperAddEffect" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="followUpSuperAddEffect" data-hide="DEF Active">
            <p class="Sentence">追撃必殺技ATK追加効果</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="followUpSuperAddEffect" value="0"
                        min="0" onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- アクティブ・スタンバイスキル -->
        <template id="activeSkillMul-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="activeSkillMul" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="activeSkillMul">
            <p class="Sentence">アクティブ・スタンバイスキル</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="activeSkillMul" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- フィールドスキル -->
        <template id="fieldSkillMul-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="fieldSkillMul" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="fieldSkillMul">
            <p class="Sentence">フィールドスキル</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="fieldSkillMul" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- サポートメモリー -->
        <template id="supportMemoryMul-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="supportMemoryMul" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="supportMemoryMul">
            <p class="Sentence">サポートメモリー</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="supportMemoryMul" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- サポートアイテム -->
        <template id="supportItemMul-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="supportItemMul" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="supportItemMul">
            <p class="Sentence">サポートアイテム</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="supportItemMul" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 必殺追撃数 -->
        <template id="FollowUp-input-template">
            <div class="input-box">
                <label class="checkbox">
                    <input type="checkbox" class="status-input" data-key="FollowUp">
                    <span>必殺</span>
                </label>
                <button type="button" class="delete-btn">
                    <img src="img/DeleteIcon.png" alt="">
                </button>
            </div>
        </template>

        <div class="status" data-input-group="FollowUp" data-hide="DEF Active">
            <p class="Sentence">追撃</p>
            <form class="input-section" onsubmit="return false;">
            </form>
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- アクティブ・スタンバイスキル威力 -->
        <template id="activeSkillPower-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="activeSkillPower" value="100" min="100"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="activeSkillPower" data-hide="DEF NonActive">
            <p class="Sentence">アクティブ・スタンバイスキル威力</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" data-key="activeSkillPower" value="0" min="0"
                        onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 実数値表示欄 -->
        <div class="main-value big-value big">
            <p class="left">実数値: </p>
            <p class="left"><span id="values">0</span></p>
        </div>

        <!-- 会心発動率 -->
        <template id="CriticalRate-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="CriticalRate" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="CriticalRate" data-hide="DEF">
            <p class="Sentence">会心発動率</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" id="criticalRate" class="status-input Percent" data-key="criticalRate"
                        value="0" min="0" onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form class="input-section">
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 全属性効果抜群 -->
        <div class="status" id="effectiveWrapper" data-hide="DEF">
            <p class="Sentence">全属性効果抜群</p>
            <label class="checkbox">
                <input type="checkbox" id="effectiveCheckbox" onwheel="this.blur()">
            </label>
        </div>

        <!-- 敵ATK -->
        <div class="status" data-hide="ATK Active">
            <p class="Sentence">敵ATK</p>
            <form class="input-section" onsubmit="return false;">
                <input type="number" class="NumbericalValue" id="enemyATK" value="0" min="0" onwheel="this.blur()">
            </form class="input-section">
            <p class="unit">万</p>
        </div>

        <!-- ダメージ軽減率 -->
        <template id="ReductionRate-input-template">
            <div class="input-box">
                <input type="number" class="status-input Percent" data-key="ReductionRate" value="0" min="0"
                    onwheel="this.blur()">
                <p class="unit">%</p>
                <button type="button" class="delete-btn"><img src="img/DeleteIcon.png" alt=""></button>
            </div>
        </template>

        <div class="status" data-input-group="ReductionRate" data-hide="ATK Active">
            <p class="Sentence">ダメージ軽減率</p>
            <form class="input-section" onsubmit="return false;">
                <div class="input-box">
                    <input type="number" class="status-input Percent" id="reductionRate" data-key="reductionRate"
                        value="0" min="0" onwheel="this.blur()">
                    <p class="unit">%</p>
                </div>
            </form>
            <button type="button" class="add-btn">＋</button>
        </div>

        <!-- 全属性ガード -->
        <div class="status" data-hide="ATK Active">
            <p class="Sentence">全属性ガード</p>
            <label class="checkbox">
                <input type="checkbox" id="allGuard" onwheel="this.blur()">
            </label>
        </div>

        <!-- 合計ダメージ表示欄 -->
        <div id="totalWrapper" data-hide="DEF" class="big-value big">
            <p class="left">合計ダメージ: <span id="totalDamage">0</span></p>
        </div>

        <!-- 非ダメージ表示欄 -->
        <div class="big-value big" data-hide="ATK Active">
            <p class="left">被ダメージ: <span id="damageTaken" min="0">0</span></p>
        </div>
    </main>

    <script type="module" src="js/script.js"></script>
    <script type="module" src="js/inputBox.js"></script>
</body>

</html>